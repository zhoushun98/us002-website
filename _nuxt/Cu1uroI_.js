import{u as $,_ as D}from"./ChSu0X3P.js";import{c as F,b as U,a as G,h as A,i as M,j as I,k as z}from"./DBm9bF5s.js";import{q as L,x as _,Q as t,R as o,b as f,S as b,X as B,P as x,a4 as k,N as C,a2 as T,a1 as K,a3 as w,U as S,Z as V}from"./C-fWFG71.js";const j={class:"pagination"},q=L({__name:"BlogPagination",props:{firstPageUrl:{},pageUrl:{},currentPage:{default:1},minVisiblePages:{default:1},maxVisiblePages:{default:4},numberOfPosts:{default:0}},setup(v){const e=v,c=_(()=>Math.ceil(e.numberOfPosts/F.PAGINATION.LIMIT)),m=_(()=>e.currentPage===1),u=_(()=>e.currentPage===c.value),P=_(()=>{const a=e.maxVisiblePages/2,s=Array.from({length:c.value},(g,r)=>r+1);if(s.length>e.maxVisiblePages||s.length>e.minVisiblePages){const g=e.currentPage-s[0],r=e.currentPage-s[s.length-1];return g<a?s.slice(0,e.maxVisiblePages):r>=-a?s.slice(-e.maxVisiblePages):s.filter(n=>{const y=e.currentPage-n;return y<0?Math.abs(y)<=a:y<a})}return[]});function i(a){return a===1?e.firstPageUrl:e.pageUrl.replace("{page}",a.toString())}function d(){if(!u.value)return i(e.currentPage+1)}function h(){if(!m.value)return i(e.currentPage-1)}function l(){window.scroll({top:0,left:0,behavior:"smooth"})}const p=[{rel:"canonical",hid:"canonical",href:U(i(e.currentPage))}],N=d(),O=h();return N&&p.push({rel:"next",hid:"next",href:U(N)}),O&&p.push({rel:"prev",hid:"prev",href:U(O)}),G({link:p}),(a,s)=>{const g=A,r=M;return t(),o("div",j,[f(m)?k("",!0):(t(),b(r,{key:0,to:h(),class:"pagination__item","aria-label":"Go to previous page",onClick:l},{default:B(()=>[x(g,{name:"arrow","flip-horizontal":""})]),_:1},8,["to"])),(t(!0),o(C,null,T(f(P),n=>(t(),b(r,{key:n,to:i(n),class:S(["pagination__item",{"pagination__item--active":a.currentPage===n,"pagination__item--hidden":n>f(c)}]),"aria-label":`Go to page ${n}`,onClick:l},{default:B(()=>[K(w(n),1)]),_:2},1032,["to","class","aria-label"]))),128)),f(u)?k("",!0):(t(),b(r,{key:1,to:d(),class:"pagination__item","aria-label":"Go to next page",onClick:l},{default:B(()=>[x(g,{name:"arrow"})]),_:1},8,["to"]))])}}}),E=I(q,[["__scopeId","data-v-893df8ff"]]),H={class:"blog-container"},Q={key:0,class:"pagination-wrapper"},R={key:1,class:"post-list__text"},X={key:2,class:"post-list__text"},Z=L({__name:"PostList",props:{posts:{},currentPage:{default:1},maxPostsPerPage:{default:20},numberOfPosts:{default:0},firstPageUrl:{default:""},pageUrl:{default:""},isLoading:{type:Boolean,default:!1},areSearchPosts:{type:Boolean,default:!1},disablePagination:{type:Boolean,default:!1},emptyText:{default:"No posts found."}},setup(v){const e=v,c=$(),m=_(()=>e.posts.filter(u=>!c.isPostBlocked(u.tags))??[]);return(u,P)=>{const i=D,d=E,h=z;return t(),o("div",H,[V("div",{class:S(["post-list",{"post-list--search":e.areSearchPosts}])},[(t(!0),o(C,null,T(f(m),(l,p)=>(t(),b(i,{key:l.slug,post:l,search:e.areSearchPosts,"preload-image":p===0,list:""},null,8,["post","search","preload-image"]))),128)),e.numberOfPosts>e.maxPostsPerPage&&!e.disablePagination?(t(),o("div",Q,[x(d,{"first-page-url":e.firstPageUrl,"page-url":e.pageUrl,"current-page":e.currentPage,"items-per-page":e.maxPostsPerPage,"number-of-posts":e.numberOfPosts},null,8,["first-page-url","page-url","current-page","items-per-page","number-of-posts"])])):k("",!0),e.isLoading?(t(),o("div",R,P[0]||(P[0]=[V("p",null,"Loading",-1)]))):e.numberOfPosts===0?(t(),o("div",X,[V("p",null,w(e.emptyText),1),x(h,{to:"/"})])):k("",!0)],2)])}}}),ee=I(Z,[["__scopeId","data-v-c994e0be"]]);export{ee as _};
