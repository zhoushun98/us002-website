"use strict";(self.webpackChunk_ember_auto_import_=self.webpackChunk_ember_auto_import_||[]).push([[722],{32722:function(e,t,i){var n=i(24178),r=i(76588),o=n.SC.attachDelegate,s={setDelegate:function(e){return o(this,e)},localStorageObject:n.tO.localStorageObject,sessionStorageObject:n.tO.sessionStorageObject},a=n.SC.attachDelegate,c={setDelegate:function(e){return a(this,e)},makeAjaxRequest:n.L5.makeAjaxRequest},l=n.SC.attachDelegate,u=n.SC.hasAnyKeys,p=n.SC.isArray,h=n.tO.saveObjectToStorage,d=n.tO.objectFromStorage,g=n.P0.exponentialBackoff,f=n.EE.valueForKeyPath,S="noTopicConfig",v={blacklistedFields:["capacitySystem","capacitySystemAvailable","capacityDisk","capacityData","capacityDataAvailable"],compoundSeparator:"_",configBaseUrl:"/config/1/report",constraints:{profiles:{AMPWeb:{precedenceOrderedRules:[{filters:"any",fieldConstraints:{clientId:{generateValue:!0,namespace:"AMPWeb_isSignedOut",expirationPeriod:864e5}}},{filters:{valueMatches:{isSignedIn:[!0]}},fieldConstraints:{clientId:{generateValue:!0,namespace:"AMPWeb_isSignedIn",expirationPeriod:15552e6}}}]},strict:{precedenceOrderedRules:[{filters:"any",fieldConstraints:{clientId:{generateValue:!0,scopeFieldName:"parentPageUrl",scopeStrategy:"mainDomain",expirationPeriod:864e5},consumerId:{blacklisted:!0},dsId:{blacklisted:!0},parentPageUrl:{scope:"hostname"}}},{filters:{valueMatches:{eventType:["click"],actionType:["signUp"]}},fieldConstraints:{parentPageUrl:{scope:"fullWithoutParams"}}},{filters:{valueMatches:{eventType:["dialog"],dialogType:["upsell"],result:["upsell"]}},fieldConstraints:{parentPageUrl:{scope:"fullWithoutParams"}}},{filters:{valueMatches:{userType:["signedIn"]}},fieldConstraints:{clientId:{scopeStrategy:"all"}}},{filters:{valueMatches:{userType:["signedIn"],eventType:["click","dialog","media","search"]}},fieldConstraints:{clientId:{blacklisted:!0},consumerId:{blacklisted:!1},dsId:{blacklisted:!1}}},{filters:{valueMatches:{userType:["signedIn"],eventType:["page","impressions"]},nonEmptyFields:["pageHistory"]},fieldConstraints:{clientId:{blacklisted:!0},consumerId:{blacklisted:!1},dsId:{blacklisted:!1}}}]}}},fieldsMap:{cookies:["itcCt","itscc"],custom:{impressions:["id","adamId","link.type","station-hash"],location:["id","adamId","dataSetId","name","fcKind","kindIds","type","link.type","station-hash","core-seed-name"]},single:{targetId:["id","adamId","contentId","type","link.type","fcId","userPreference","label","station-hash","linkIdentifier"]}},metricsUrl:"/report",postFrequency:6e4,postFrequencyLowLatency:5e3,tokenSeparator:"|"},_={},y=function(e,t,i){if(i){e.push(i)
var n=i[t]
n&&u(n)&&e.push(n)}},C=function(e){this._topic=e,this._debugSource=null,this._cachedSource=null,this._serviceSource=null,this._initCalled=!1,this._initialized=!1,this._showedDebugWarning=!1,this._showedNoProvidedSourceWarning=!1,this._keyPathsThatSuppressWarning={configBaseUrl:!0},this.DEBUG_SOURCE_KEY="mtClientConfig_debugSource"+v.compoundSeparator+this._topic,this.CACHED_SOURCE_KEY="mtClientConfig_cachedSource"+v.compoundSeparator+this._topic}
C.createConfig=function(e,t,i,n){var r=C.getConfig(e)
return e&&e!==S&&!r._initCalled&&r.init(t,i,n),r},C.getConfig=function(e){var t=_[e=e||S]
return t||(t=new C(e),_[e]=t),t},C.cleanupConfig=function(e){if(e&&_[e]){var t=_[e]
t.setCachedSource(),t.setDebugSource(),delete _[e]}},C.defaultConfig=function(){return C.getConfig()},C.value=function(e,t){var i=t&&_[t]||C.defaultConfig()
return i.value.call(i,e)},C.environment=s,C.logger=(0,r.RG)("mt-client-config"),C.network=c,C.prototype._defaults=function(){return v},C.prototype._setInitialized=function(e){this._initialized=e},C.prototype._setInitCalled=function(e){this._initCalled=e},C.prototype._setShowedDebugWarning=function(e){this._showedDebugWarning=e},C.prototype._setShowedNoProvidedSourceWarning=function(e){this._showedNoProvidedSourceWarning=e},C.prototype.setDelegate=function(e){return l(this,e)},C.prototype.topic=function(){return this._topic},C.prototype.configHostname=function(){},C.prototype.configUrl=function(){var e,t=this.configHostname()
return e=t?"https://"+t+"/config/1/report":this.value("configBaseUrl"),this._topic!==S?e+="/"+this.topic():C.logger.error("config.configUrl(): Topic must be provided"),e},C.prototype.sources=function(){},C.prototype.value=function(e){var t,i=this.cachedSource(),n=this.serviceSource(),r=this.sources(),o=this.debugSource(),s=i||n||r||o
return r||n||e in this._keyPathsThatSuppressWarning||this._showedNoProvidedSourceWarning||(this._showedNoProvidedSourceWarning=!0,C.logger.warn("Metrics config: No config provided via delegate or fetched via init(), using default/cached config values.")),o&&(this._showedDebugWarning||(this._showedDebugWarning=!0,C.logger.warn('"debugSource" found.\nThis will override any same-named client-supplied configSource fields.\nThis setting "sticks" across session, use "setDebugSource(null)" to clear'))),p(r)||(r=[r]),t=0===e.indexOf("blacklisted")?s?[i,n,r,o]:[v]:[v,i,n,r,o],t=this.configSourcesWithOverrides(t,this.topic()),f.apply(null,[e].concat(t))},C.prototype.configSourcesWithOverrides=function(e,t){var i=e
if(e&&e.length&&t){i=[]
for(var n=0;n<e.length;n++){var r=e[n]
if(r)if(p(r)&&r.length){for(var o=[],s=0;s<r.length;s++)y(o,t,r[s])
i.push(o)}else y(i,t,r)}}return i},C.prototype.setDebugSource=function(e){return this._debugSource=e||null,h(s.localStorageObject(),this.DEBUG_SOURCE_KEY,this._debugSource)},C.prototype.debugSource=function(){return this._debugSource||(this._debugSource=d(s.localStorageObject(),this.DEBUG_SOURCE_KEY)),this._debugSource},C.prototype.setCachedSource=function(e){return this._cachedSource=e||null,h(s.localStorageObject(),this.CACHED_SOURCE_KEY,this._cachedSource)},C.prototype.cachedSource=function(){return this._cachedSource||(this._cachedSource=d(s.localStorageObject(),this.CACHED_SOURCE_KEY)),this._cachedSource},C.prototype.setServiceSource=function(e){return this._serviceSource=e,this._serviceSource},C.prototype.serviceSource=function(){return this._serviceSource},C.prototype.fetchConfig=function(e,t,i){i=i||function(){},g(c.makeAjaxRequest.bind(c,e,"GET",null),(function(e){var n
try{e=JSON.parse(e),n=!0}catch(e){i.call(i,e)}n&&t&&t.call(t,e)}),i)},C.prototype.init=function(e,t,i){if(!this._initCalled){this._initCalled=!0,t=t||function(){}
var n=function(){this._initialized=!0,t.call(t)}.bind(this)
if(e)this.setDelegate({sources:e}),n()
else{this.setCachedSource(this.cachedSource())
var r=this.configUrl(),o=function(e){this.setCachedSource(e),this.setServiceSource(e),n()}.bind(this)
this.fetchConfig(r,o,i)}}},C.prototype.initialize=function(e,t,i){return this.init.apply(this,Array.prototype.slice.call(arguments))},C.prototype.initialized=function(){return this._initialized},t.Z=C},76588:function(e,t,i){i.d(t,{P6:function(){return o},RG:function(){return h},yK:function(){return s}})
var n=i(24178)
function r(e){this.key=e}r.prototype.toString=function(){return this.key}
var o={flagArguments:{INCLUDE_CALL_STACK:new r("INCLUDE_CALL_STACK"),MIRROR_TO_SERVER:new r("MIRROR_TO_SERVER"),SUPPRESS_CLIENT_OUTPUT:new r("SUPPRESS_CLIENT_OUTPUT")},setDelegate:function(e){return n.SC.attachDelegate(this,e)},execute:function(e,t,i){var n=e.levelStringToIntMap[t]
if(e.level()!==e.NONE&&e.level()<=n){var r=Array.prototype.slice.call(i),s=o.nonFlagLogArguments(r),a=o.logOptions(e,n,r),c=a.includeCallStack?(new Error).stack:null,l=c?s.concat("\n"+c):s
if(e[t]._lastLog=l,a.mirrorToServer&&o.sendToServer(e,t,s,c),a.throwInsteadOfPrint)throw new Error(s.toString())
a.suppressClientOutput||(console[t]?console[t].apply(console,l):console.log.apply(console,l))}},isFlagObject:function(e){return e&&e===o.flagArguments[e.toString()]},nonFlagLogArguments:function(e){return e.filter((function(e){return!o.isFlagObject(e)}))},logOptions:function(e,t,i){var r,s={}
return i.forEach((function(e){o.isFlagObject(e)&&(r=n.Z_.snakeCaseToCamelCase(e.toString()),s[r]=!0)})),n.SC.isFunction(e.mirrorToServerLevel)&&e.mirrorToServerLevel()!==e.NONE&&e.mirrorToServerLevel()<=t&&(s.mirrorToServer=!0),e.throwLevel()!==e.NONE&&e.throwLevel()<=t&&(s.throwInsteadOfPrint=!0),s},sendToServer:function(e,t,i,n){}},s={NONE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4},a={MIN_LEVEL:s.NONE,MAX_LEVEL:s.ERROR,levelIntToStringMap:{0:"none",1:"debug",2:"info",3:"warn",4:"error"},levelStringToIntMap:{none:0,debug:1,info:2,warn:3,error:4}}
n.SC.extend(a,s)
var c={loggerName:"defaultLogger",level:a.INFO,throwLevel:a.NONE},l=!1,u={}
function p(e){this._loggerName=e,this._level,this._throwLevel,l||(l=!0,n.SC.extend(p.prototype,a),n.SC.extend(p.prototype,o.flagArguments))}function h(e){var t=u[e=e||c.loggerName]
return t||(t=new p(e),u[e]=t),t}p.level=function(){return c.level},p.throwLevel=function(){return c.throwLevel},p.prototype.setDelegate=function(e){return n.SC.attachDelegate(this,e)},p.prototype.loggerName=function(){return this._loggerName},p.prototype.levelParameterAsInt=function(e){var t,i=null
return n.SC.isString(e)?t=this.levelStringToIntMap[e.toLowerCase()]:n.SC.isNumber(e)&&(t=e),t>=this.MIN_LEVEL&&t<=this.MAX_LEVEL&&(i=t),i},p.prototype.setLevel=function(e){var t=this.levelParameterAsInt(e)
null!==t&&(this._level=t)},p.prototype.setThrowLevel=function(e){var t=this.levelParameterAsInt(e)
null!==t&&(this._throwLevel=t)},p.prototype.level=function(){var e=this._level
return n.SC.isNumber(e)?e:p.level()},p.prototype.levelString=function(){return this.levelIntToStringMap[this.level()]},p.prototype.throwLevel=function(){var e=this._throwLevel
return n.SC.isNumber(e)?e:p.throwLevel()},p.prototype.debug=function(){o.execute(this,"debug",arguments)},p.prototype.info=function(){o.execute(this,"info",arguments)},p.prototype.warn=function(){o.execute(this,"warn",arguments)},p.prototype.error=function(){o.execute(this,"error",arguments)},p.prototype.lastLog=function(e){return this[e]?this[e]._lastLog:null},p.level,p.throwLevel,t.ZP=p}}])
