import{u as v,R as w,f as M,_ as b,y as I,g as P}from"./orVGlpMf.js";import{_ as T}from"./dsn67dQB.js";import{q as N,r as k,d as B,N as q,Z as r,a2 as F,a3 as c,$ as d,b as l,_ as p,a5 as u,U as t,a0 as V,ad as m,S as j,an as z,ae as E,am as H,j as U}from"./Ca8kBgT7.js";import{u as W}from"./ChkTchKf.js";function D(o){let e=o||"";e=e.replace(/^(-\s*?|\*\s*?|_\s*?){3,}\s*/gm,"");try{e=e.replace(/^([\s\t]*)([*\-+]|\d+\.)\s+/gm,"$1"),e=e.replace(/\n={2,}/g,`
`).replace(/~{3}.*\n/g,"").replace(/~~/g,"").replace(/`{3}.*\n/g,""),e=e.replace(/\*\[.*\]:.*\n/,""),e=e.replace(/<[^>]*>/g,"");const n=new RegExp("<[^>]*>","g");e=e.replace(n,"").replace(/^[=-]{2,}\s*$/g,"").replace(/\[\^.+?\](: .*?$)?/g,"").replace(/\s{0,2}\[.*?\]: .*?$/g,"").replace(/!\[(.*?)\][[(].*?[\])]/g,"$1").replace(/\[([^\]]*?)\][[(].*?[\])]/g,"$1").replace(/^(\n)?\s{0,3}>\s?/gm,"$1").replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g,"").replace(/^(\n)?\s{0,}#{1,6}\s*( (.+))? +#+$|^(\n)?\s{0,}#{1,6}\s*( (.+))?$/gm,"$1$3$4$6").replace(/([*]+)(\S)(.*?\S)??\1/g,"$2$3").replace(/(^|\W)([_]+)(\S)(.*?\S)??\2($|\W)/g,"$1$3$4$5").replace(/(`{3,})(.*?)\1/gm,"$2").replace(/`(.+?)`/g,"$1").replace(/~(.*?)~/g,"$1")}catch{return o}return e}const O={key:0},Z={key:1,class:"no-posts"},A={class:"no-posts__title"},G=["innerHTML"],J=N({__name:"LearnCenterSearchResults",props:{component:{},props:{}},setup(o){const e=o,n=v(),L=String(n.meta.locale),R=U(),x=w(R.public.lunrIndexFolderPath),g=W({indexFolderPath:x,indexName:"learn",language:L}),f=k(!0),i=k([]);B(()=>n.query,()=>{h()}),q(async()=>{await h(),f.value=!1});async function h(){const a=await g.searchInIndex(n.query.searchTerm);a&&a.length&&(i.value=a.map($=>g.getResultMeta($.ref)))}function y(a){return D(a)}return(a,$)=>{const S=b,_=I,C=T;return r(),F(C,E(H(e.props)),{default:c(()=>[d("div",null,[l(f)?(r(),p("div",O)):l(i).length===0?(r(),p("div",Z,[d("h2",A,u(a.$t("components.learnCenterSearchResults.noResults")),1),t(_,{class:"no-posts__back-link",href:("buildLocaleLink"in a?a.buildLocaleLink:l(M))("/learn/")},{default:c(()=>[t(S,{name:"arrow","flip-horizontal":""}),V(a.$slots,"default",{},()=>[m(u(a.$t("components.learnCenterSearchResults.backToLearnCenter")),1)],!0)]),_:3},8,["href"])])):(r(!0),p(j,{key:2},z(l(i),s=>(r(),p("article",{key:s.slug,class:"post"},[t(_,{href:s.url,class:"post__title"},{default:c(()=>[m(u(s.title),1)]),_:2},1032,["href"]),d("div",{class:"post__excerpt",innerHTML:y(s.excerpt)},null,8,G),t(_,{href:s.url,class:"post__read-more"},{default:c(()=>[m(u(a.$t("components.learnCenterSearchResults.readMore"))+" ",1),t(S,{name:"arrow"})]),_:2},1032,["href"])]))),128))])]),_:3},16)}}}),ee=Object.assign(P(J,[["__scopeId","data-v-564182c5"]]),{__name:"LearnCenterSearchResults"});export{ee as default};
