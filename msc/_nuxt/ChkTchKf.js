const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./B-ZSEn7o.js","./Cpj98o6Y.js"])))=>i.map(i=>d[i]);
import{s as f,x as I}from"./orVGlpMf.js";import{r as c}from"./Ca8kBgT7.js";let t;function _({indexFolderPath:d,indexName:m,language:v="en",setStatus:r=()=>{}}){const u=f("searchIndex",()=>{}),i=f("searchMeta",()=>{}),a=c(!1),h=c(new Date().getTime());function s(){return new Promise(e=>{let n=0;const o=()=>{if(!a.value){e(!0);return}n>=15&&e(!1),setTimeout(o,50),n++};o()})}async function l(){if(a.value)return s();if(a.value=!0,r("fetching"),t||(t=await(await fetch(`${d}/${m}.${v}.json?t=${h.value}`)).json()),!t||typeof t!="object")return a.value=!1,!1;r("loading"),i.value=t==null?void 0:t.metas;const e=await I(()=>import("./B-ZSEn7o.js").then(n=>n.l),__vite__mapDeps([0,1]),import.meta.url);return u.value=e.Index.load(t),r(""),a.value=!1,!0}async function p(e){var n;return!u.value&&!await l()?[]:(r("searching"),(n=u.value)==null?void 0:n.search(`${e}* ${e}~1`))}function x(e){if(i.value)return i.value[e]}return{searchIndex:u,searchMeta:i,loadingIndex:a,waitLoadingComplete:s,loadIndex:l,searchInIndex:p,getResultMeta:x}}export{_ as u};
