import{i as U,m as A,a as $,l as b,_ as R,g as x,d as k,U as P,aK as M}from"./orVGlpMf.js";import{Z as i,_ as c,A as z,q as T,i as B,x as m,$ as s,b as r,a5 as o,a6 as N,U as u,a3 as S,ad as v,S as w,ao as y,a2 as I,an as V,af as O,ae as j,am as G,j as F}from"./Ca8kBgT7.js";import{f as q}from"./rWh1kmcV.js";import{_ as W}from"./p3ymIEW1.js";import{_ as Q}from"./dsn67dQB.js";import{l as Z}from"./zDAkf3sx.js";import"./89bumb-6.js";import"./BAJeilhe.js";import"./BGjiCQZh.js";const K={width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function H(C,t){return i(),c("svg",K,t[0]||(t[0]=[z('<g clip-path="url(#clip0_342_4304)"><rect y="0.5" width="16" height="16" rx="8" fill="#003D31"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M11.3976 5.42661L6.62424 10.0333L5.35758 8.67994C5.12424 8.45994 4.75758 8.44661 4.49091 8.63328C4.23091 8.82661 4.15758 9.16661 4.31758 9.43994L5.81758 11.8799C5.96424 12.1066 6.21758 12.2466 6.50424 12.2466C6.77758 12.2466 7.03758 12.1066 7.18424 11.8799C7.42424 11.5666 12.0042 6.10661 12.0042 6.10661C12.6042 5.49328 11.8776 4.95328 11.3976 5.41994V5.42661Z" fill="#03FC9D"></path></g><defs><clipPath id="clip0_342_4304"><rect y="0.5" width="16" height="16" rx="8" fill="white"></rect></clipPath></defs>',2)]))}const J={render:H},X={key:0,class:"campaign-card"},Y={class:"campaign-card__content"},aa={key:0,class:"campaign-card__status"},ta={class:"campaign-card__title"},na={class:"campaign-card__description"},ea={class:"campaign-card-info"},sa={key:0,class:"campaign-card-info__completed"},ia={class:"campaign-card-info__date"},oa={class:"campaign-card-info__duration"},ra={class:"campaign-card__image"},ca=["src","alt"],la=T({__name:"LearnAndEarnCampaignCard",props:{externalId:{},campaignStatus:{},title:{},description:{},solvingDuration:{},imageUrl:{},startDate:{},endDate:{},postUrl:{}},setup(C){const t=B("isWebview"),{isAuthenticated:l}=U(),n=C,p=m(()=>q(n.endDate,A.DATETIME.DATE_FORMAT_STRING,!0)),h=m(()=>t.value||l.value),{t:d}=$(),g=m(()=>!h.value||n.campaignStatus===A.LEARN_AND_EARN.CAMPAIGN_STATUS.NOT_REGISTERED?d("components.learnAndEarnCampaignCard.campaignEligibilityNotRegistered"):h.value&&n.campaignStatus===A.LEARN_AND_EARN.CAMPAIGN_STATUS.NOT_VERIFIED?d("components.learnAndEarnCampaignCard.campaignEligibilityNotVerified"):_.value?d("components.learnAndEarnCampaignCard.campaignEligibilityAlreadyWon"):null),_=m(()=>n.campaignStatus==A.LEARN_AND_EARN.CAMPAIGN_STATUS.COMPLETED);return(e,a)=>{const E=b,f=R;return n.postUrl?(i(),c("div",X,[s("div",Y,[r(g)?(i(),c("div",aa,o(r(g)),1)):N("",!0),s("div",ta,o(n.title),1),s("div",na,o(n.description),1),s("div",ea,[u(E,{link:n.postUrl,"as-link":!1,"btn-style":"button--primary campaign-card-info__button","client-side":""},{default:S(()=>[v(o(r(_)?e.$t("components.learnAndEarnCampaignCard.quizCompletedCTA"):e.$t("components.learnAndEarnCampaignCard.quizNotCompletedCTA")),1)]),_:1},8,["link"]),r(_)?(i(),c("div",sa,[u(r(J)),v(" "+o(e.$t("components.learnAndEarnCampaignCard.quizCompleted")),1)])):(i(),c(w,{key:1},[s("div",ia,[u(f,{name:"calendar",class:"icon--date",size:"24"}),v(" "+o(r(p)),1)]),s("div",oa,[u(f,{name:"hourglass",class:"icon--duration",size:"24"}),v(" "+o(e.$t("components.learnAndEarnCampaignCard.solvingDuration",[e.solvingDuration])),1)])],64))])]),s("div",ra,[s("img",{src:n.imageUrl,width:"580",height:"326",alt:n.title},null,8,ca)])])):N("",!0)}}}),pa=Object.assign(x(la,[["__scopeId","data-v-7397a649"]]),{__name:"LearnAndEarnCampaignCard"}),da={key:0},_a={key:1},ma={class:"learn-and-earn__empty"},ga={class:"learn-and-earn__empty-text"},ua=T({__name:"LearnAndEarnCampaignsSection",props:{component:{},props:{},noActiveCampaignsText:{},noActiveCampaignsImage:{}},async setup(C){let t,l;const n=F(),p=C,{campaigns:h}=([t,l]=y(()=>Z()),t=await t,l(),t),{data:d}=([t,l]=y(()=>k("/api/slugs/learn-center-campaign-posts",{retry:3,retryDelay:500},"$nAj3thfDeB")),t=await t,l(),t),g=m(()=>{if(!d.value)return{};const e={};for(const a of d.value)a.campaignId&&(e[a.campaignId]=P(a.routeName));return e}),_=m(()=>{const e=[];for(const a of h.value)g.value[a.externalId]&&e.push({externalId:a.externalId,campaignStatus:a.campaignStatus,title:a.title,description:a.description,solvingDuration:a.solvingDuration,imageUrl:n.public.isGenerateMode?a.imageUrl:`${M(n.public.siteUrl)}${a.imageUrl}`,startDate:a.startDate,endDate:a.endDate,postUrl:g.value[a.externalId]});return e});return(e,a)=>{const E=pa,f=W,L=Q;return i(),I(L,j(G(p.props)),{default:S(()=>[r(_).length>0?(i(),c("div",da,[(i(!0),c(w,null,V(r(_),D=>(i(),I(E,O({key:D.externalId,ref_for:!0},D),null,16))),128))])):(i(),c("div",_a,[s("div",ma,[s("div",ga,o(p.noActiveCampaignsText),1),u(f,{class:"learn-and-earn__empty-image",src:p.noActiveCampaignsImage.url,width:"769",height:"393",alt:p.noActiveCampaignsText},null,8,["src","alt"])])]))]),_:1},16)}}}),Ia=Object.assign(x(ua,[["__scopeId","data-v-578fe3f9"]]),{__name:"LearnAndEarnCampaignsSection"});export{Ia as default};
