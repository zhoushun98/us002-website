import{S as N,u as O,X as $,e as P,m as v,Y as D,Z as j,$ as M,a0 as H,a1 as w,v as q,a2 as W,a3 as z}from"./orVGlpMf.js";import{q as f,j as I,ao as F,x as U,Z as h,a2 as b,a3 as B,U as c,ad as G,a5 as K,b as y,a6 as A,_ as V,an as X,S as Y,u as Z,i as J,r as Q,aC as ee,y as R,af as te,a as ne,X as ae,Y as re,z as oe}from"./Ca8kBgT7.js";const ie=a=>{const t=Object.create(null);for(const n in a){const e=a[n];e!==void 0&&(t[n]=e)}return t},E=(a,t)=>(n,e)=>(N(()=>a({...ie(n),...e.attrs},e)),()=>{var s,p;return t?(p=(s=e.slots).default)==null?void 0:p.call(s):null}),C={accesskey:String,autocapitalize:String,autofocus:{type:Boolean,default:void 0},class:[String,Object,Array],contenteditable:{type:Boolean,default:void 0},contextmenu:String,dir:String,draggable:{type:Boolean,default:void 0},enterkeyhint:String,exportparts:String,hidden:{type:Boolean,default:void 0},id:String,inputmode:String,is:String,itemid:String,itemprop:String,itemref:String,itemscope:String,itemtype:String,lang:String,nonce:String,part:String,slot:String,spellcheck:{type:Boolean,default:void 0},style:[String,Object,Array],tabindex:String,title:String,translate:String},se=f({name:"Link",inheritAttrs:!1,props:{...C,as:String,crossorigin:String,disabled:Boolean,fetchpriority:String,href:String,hreflang:String,imagesizes:String,imagesrcset:String,integrity:String,media:String,prefetch:{type:Boolean,default:void 0},referrerpolicy:String,rel:String,sizes:String,title:String,type:String,methods:String,target:String,body:Boolean,renderPriority:[String,Number]},setup:E(a=>({link:[a]}))}),le=f({name:"Title",inheritAttrs:!1,setup:E((a,{slots:t})=>{var n,e,s;return{title:((s=(e=(n=t.default)==null?void 0:n.call(t))==null?void 0:e[0])==null?void 0:s.children)||null}})}),ue=f({name:"Meta",inheritAttrs:!1,props:{...C,charset:String,content:String,httpEquiv:String,name:String,body:Boolean,renderPriority:[String,Number]},setup:E(a=>{const t={...a};return t.httpEquiv&&(t["http-equiv"]=t.httpEquiv,delete t.httpEquiv),{meta:[t]}})}),ce=f({name:"Head",inheritAttrs:!1,setup:(a,t)=>()=>{var n,e;return(e=(n=t.slots).default)==null?void 0:e.call(n)}});function x(){return I().app.cdnURL}function T(a,{cdn:t=!1}={}){if(t)return`${x()}${a}`;const n=I();return n.public.siteUrl[n.public.siteUrl.length-1]==="/"?`${n.public.siteUrl.substring(0,n.public.siteUrl.length-1)}${a}`:`${n.public.siteUrl}${a}`}const pe="/static/webapp/images/favicons/mstile-150x150.fb971fe09ee43c434291d67b2be497e8d6a5db04.png",fe=f({__name:"BtsSeo",props:{seo:{},locale:{}},async setup(a){let t,n;const e=a,s=O(),p=String(s.name),L=String(s.meta.locale),{data:_}=([t,n]=F(()=>$(`${p}-${L}-seo`,()=>{var g,u;function l(o){const S=j()(o,{enlarge:!0,width:1200,height:630,format:"png",fit:"cover",quality:85});return S.startsWith(x())?S:T(S,{cdn:!0})}let m=T(P.META.IMAGE,{cdn:!0});(u=(g=e.seo)==null?void 0:g.metaImage)!=null&&u.url&&(m=l(e.seo.metaImage.url));const r={description:e.seo.metaDescription,ogDescription:e.seo.metaDescription,ogImage:m,twitterImage:m,twitterSite:v.TWITTER.HANDLE,twitterCreator:v.TWITTER.HANDLE,twitterCard:"summary_large_image",twitterTitle:e.seo.metaTitle,twitterDescription:e.seo.metaDescription,titleTemplate:"%s"};return(e.seo.metaSocial??[]).forEach(o=>{var d,S;switch(o.socialNetwork){case P.STRAPI.SOCIAL_NETWORKS.FACEBOOK:{r.ogTitle=o.title,r.ogDescription=o.description,(d=o==null?void 0:o.image)!=null&&d.url&&(r.ogImage=l(o.image.url));break}case P.STRAPI.SOCIAL_NETWORKS.TWITTER:{r.twitterTitle=o.title,r.twitterDescription=o.description,(S=o==null?void 0:o.image)!=null&&S.url&&(r.twitterImage=l(o.image.url));break}}}),Promise.resolve(r)})),t=await t,n(),t);_.value&&D(_.value),e.seo.structuredData&&Object.keys(e.seo.structuredData).length>0;const i=I();N({htmlAttrs:{lang:e.locale},link:[{rel:"shortcut icon",href:i.public.isGenerateMode?`${i.app.cdnURL??""}/favicon.ico`:"/favicon.ico"},{rel:"icon",type:"image/png",href:i.public.isGenerateMode?`${i.app.cdnURL??""}/favicon.png`:"/favicon.png"}]});const k=U(()=>{const l=[];let m=!1;for(const r of e.seo.localizations)r.locale===v.LOCALE.INTERNATIONAL&&(l.push({href:T(r.pathname),hreflang:"x-default"}),m=!0),l.push({href:T(r.pathname),hreflang:r.locale.toLowerCase()}),!r.locale.startsWith(v.LOCALE.INTERNATIONAL)&&r.locale.includes("-")&&l.push({href:T(r.pathname),hreflang:r.locale.split("-")[0].toLowerCase()});return!m&&l.length>0&&l.push({href:l[0].href,hreflang:"x-default"}),l});return(l,m)=>{const r=le,g=se,u=ue,o=ce;return h(),b(o,null,{default:B(()=>[c(r,null,{default:B(()=>[G(K(e.seo.title),1)]),_:1}),y(i).app.cdnURL?(h(),b(g,{key:0,rel:"preconnect",href:y(i).app.cdnURL,crossorigin:""},null,8,["href"])):A("",!0),c(u,{name:"apple-itunes-app",content:"app-id=1406825640"}),c(u,{name:"viewport",content:"width=device-width, initial-scale=1, viewport-fit=cover"}),c(u,{name:"mobile-web-app-capable",content:"yes"}),c(u,{name:"format-detection",content:"telephone=no"}),c(u,{content:"#003b2f",name:"msapplication-TileColor"}),c(u,{content:pe,name:"msapplication-TileImage"}),c(u,{content:"#f2f2f2",name:"theme-color"}),c(u,{content:e.seo.metaTitle,name:"og:title"},null,8,["content"]),e.seo.keywords?(h(),b(u,{key:1,content:e.seo.keywords,name:"keywords"},null,8,["content"])):A("",!0),e.seo.metaRobots?(h(),b(u,{key:2,content:e.seo.metaRobots,name:"robots"},null,8,["content"])):A("",!0),(h(!0),V(Y,null,X(y(k),d=>(h(),b(u,{key:d.href,rel:"alternate",href:d.href,hreflang:d.hreflang},null,8,["href","hreflang"]))),128)),c(g,{href:`${y(i).app.cdnURL??""}/site.webmanifest`,rel:"manifest"},null,8,["href"]),c(g,{rel:"alternate",href:"/feed.xml",type:"application/rss+xml",title:"Bitstamp Blog"}),e.seo.canonicalURL?(h(),b(g,{key:3,href:("useFullPageUrl"in l?l.useFullPageUrl:y(T))(e.seo.canonicalURL),rel:"canonical"},null,8,["href"])):A("",!0)]),_:1})}}}),ye=Object.assign(fe,{__name:"BtsSeo"}),me=f({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(a,t){return()=>R(w[a.name],a.layoutProps,t.slots)}}),Se=f({name:"NuxtLayout",inheritAttrs:!1,props:{name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},setup(a,t){const n=Z(),e=J(M),s=e===O()?H():e,p=U(()=>{let i=y(a.name)??s.meta.layout??"default";return i&&!(i in w)&&a.fallback&&(i=y(a.fallback)),i}),L=Q();t.expose({layoutRef:L});const _=n.deferHydration();if(n.isHydrating){const i=n.hooks.hookOnce("app:error",_);q().beforeEach(i)}return()=>{const i=p.value&&p.value in w,k=s.meta.layoutTransition??ee;return W(re,i&&k,{default:()=>R(ae,{suspensible:!0,onResolve:()=>{ne(_)}},{default:()=>R(ge,{layoutProps:te(t.attrs,{ref:L}),key:p.value||void 0,name:p.value,shouldProvide:!a.name,hasTransition:!!k},t.slots)})}).default()}}}),ge=f({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean}},setup(a,t){const n=a.name;return a.shouldProvide&&oe(z,{isCurrent:e=>n===(e.meta.layout??"default")}),()=>{var e,s;return!n||typeof n=="string"&&!(n in w)?(s=(e=t.slots).default)==null?void 0:s.call(e):R(me,{key:n,layoutProps:a.layoutProps,name:n},t.slots)}}});export{ye as _,Se as a,T as u};
