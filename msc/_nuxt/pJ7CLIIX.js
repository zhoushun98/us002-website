import{_ as A}from"./DZBSzRnd.js";import{p as D,e as E,l as M,g as F}from"./orVGlpMf.js";import{u as H,_ as P}from"./DkmLm2n1.js";import{_ as $}from"./dsn67dQB.js";import{q as R,ao as U,x as i,N as z,o as q,Z as p,a2 as x,a3 as b,$ as t,a6 as C,a5 as o,b as s,ad as _,a1 as K,U as f,aa as j,_ as G,ac as Y}from"./Ca8kBgT7.js";import{s as Z}from"./x_rD_Ya3.js";import"./BGjiCQZh.js";const J=D("/img/lightning-network-node/lightning-spotlight-illustration.svg"),Q={class:"lightning-hero-content"},W={class:"lightning-hero__network-info"},X={class:"lightning-hero__row"},tt={class:"lightning-hero__label"},et=["textContent"],nt=["title","textContent"],ot={class:"lightning-hero__row"},st={class:"lightning-hero__label"},at=["textContent"],it=["title","textContent"],lt={class:"lightning-hero__row"},rt={class:"lightning-hero__label"},ct=["textContent"],_t=["title","textContent"],ut={class:"lightning-hero__row"},dt={class:"lightning-hero__label"},pt=["textContent"],ht={class:"lightning-hero-graphic"},gt={class:"lightning-hero-graphic__wrapper"},mt={class:"input-wrapper"},vt={class:"input-wrapper__label"},xt=["value"],bt={class:"input-wrapper"},Ct={class:"input-wrapper__label"},ft=["value"],wt={class:"input-wrapper input-wrapper--with-button"},yt={class:"input-wrapper__label"},Tt=["value"],kt=["innerHTML"],Nt=60*1e3,Lt="en-US",It=R({__name:"LightningHero",props:{component:{},title:{},channelCountText:{},connectedNodesText:{},nodeCapacityText:{},statusText:{},statusPositiveValue:{},statusNegativeValue:{},allChannelsTooltip:{},allNodesTooltip:{},totalCapacityTooltip:{},buttonText:{},nodeNameLabel:{},nodeIpLabel:{},nodeKeyLabel:{},disclaimer:{}},async setup(w){let r,h;const e=w,{data:u,refresh:y}=([r,h]=U(()=>H({refreshOnMounted:!0})),r=await r,h(),r),a=i(()=>u.value.node),d=i(()=>u.value.network),T=i(()=>u.value.isInitialized);async function k(){try{await y()}catch{a.value.isOnline=!1}}let g;z(()=>{g=Z(()=>k(),Nt)}),q(()=>{clearInterval(g)});const N=i(()=>a.value.isOnline?e.statusPositiveValue:e.statusNegativeValue),L=i(()=>`${m(a.value.capacity)} BTC`),I=i(()=>`${m(d.value.capacity)} BTC`);function m(l){const n=l/1e8;return Intl?Intl.NumberFormat(Lt,{minimumFractionDigits:8,maximumFractionDigits:8}).format(n):n.toFixed(8)}function V(l,n){if(document.documentElement.scrollIntoView){l.preventDefault();const c=document.querySelector(n);try{c.scrollIntoView({behavior:"smooth",block:"center"})}catch{c.scrollIntoView(!1)}}}return(l,n)=>{const c=A,v=M,B=P,O=$;return p(),x(O,{"background-color":s(E).SECTION_COLORS.GRAY,"padding-top":"extra-large","padding-bottom":"extra-large"},{default:b(()=>[t("div",Q,[e.title?(p(),x(c,{key:0,content:e.title},null,8,["content"])):C("",!0),t("div",W,[t("div",X,[t("span",tt,o(e.channelCountText),1),t("div",null,[t("span",{class:"lightning-hero__value",textContent:o(s(a).activeChannels)},null,8,et),n[1]||(n[1]=_(" / "))]),t("span",{title:e.allChannelsTooltip,class:"lightning-hero__value",textContent:o(s(d).channels)},null,8,nt)]),t("div",ot,[t("span",st,o(e.connectedNodesText),1),t("div",null,[t("span",{class:"lightning-hero__value",textContent:o(s(a).peers)},null,8,at),n[2]||(n[2]=_(" / "))]),t("span",{title:e.allNodesTooltip,class:"lightning-hero__value",textContent:o(s(d).nodes)},null,8,it)]),t("div",lt,[t("span",rt,o(e.nodeCapacityText),1),t("div",null,[t("span",{class:"lightning-hero__value",textContent:o(s(L))},null,8,ct),n[3]||(n[3]=_(" / "))]),t("span",{title:e.totalCapacityTooltip,class:"lightning-hero__value",textContent:o(s(I))},null,8,_t)]),t("div",ut,[t("span",dt,o(e.statusText),1),t("span",{class:K(["lightning-hero__value",`lightning-hero__value--${s(a).isOnline?"online":"offline"}`]),textContent:o(s(N))},null,10,pt)])]),f(v,{"as-link":!1,class:"button--primary button--mobile-full-width",onClick:n[0]||(n[0]=S=>V(S,"#connect-lightning-node"))},{default:b(()=>[_(o(e.buttonText),1)]),_:1})]),t("div",ht,[n[4]||(n[4]=t("img",{class:"lightning-hero-graphic__nodes",src:J,width:"784",height:"784"},null,-1)),j(t("div",gt,[t("div",mt,[t("label",vt,o(e.nodeNameLabel),1),t("input",{id:"node-name",value:s(a).alias,readonly:""},null,8,xt)]),t("div",bt,[t("label",Ct,o(e.nodeIpLabel),1),t("input",{id:"node-ip",value:s(a).ipPort,readonly:""},null,8,ft)]),t("div",wt,[t("label",yt,o(e.nodeKeyLabel),1),t("input",{id:"node-public-key",value:s(a).pubkey,readonly:""},null,8,Tt),f(B,{class:"input-wrapper__button","copy-data":s(a).pubkey},null,8,["copy-data"])]),e.disclaimer?(p(),G("div",{key:0,class:"lightning-hero__disclaimer",innerHTML:e.disclaimer},null,8,kt)):C("",!0)],512),[[Y,s(T)]])])]),_:1},8,["background-color"])}}}),Mt=Object.assign(F(It,[["__scopeId","data-v-b67188e2"]]),{__name:"LightningHero"});export{Mt as default};
