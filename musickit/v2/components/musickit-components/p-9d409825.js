/*!
 * IMPORTANT NOTE:
 * 
 *   This file is licensed only for the use of Apple developers in providing MusicKit Web Services,
 *   and is subject to the Apple Media Services Terms and Conditions and the Apple Developer Program
 *   License Agreement. You may not copy, modify, re-host, or create derivative works of this file or the
 *   accompanying Documentation, or any part thereof, including any updates, without Apple's written consent.
 * 
 *   ACKNOWLEDGEMENTS:
 *   /musickit/v1/acknowledgements.txt
 */
import{c as n,a as t}from"./p-2649b6ee.js";var o=n((function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default="undefined"!=typeof FastBoot?FastBoot.require("buffer").Buffer:"undefined"!=typeof process&&null!==process.versions&&null!==process.versions.node?Buffer:window.Buffer})),e=n((function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.memoize=void 0,t.memoize=function(n){return function(...t){let o="",e=t.length;for(n._memoized=n._memoized||{};e--;){const n=t[e];o+=n===Object(n)?JSON.stringify(n):n}return o in n._memoized?n._memoized[o]:n._memoized[o]=n(...t)}}})),i=n((function(n,i){var u=t&&t.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(i,"__esModule",{value:!0}),i.parseNumber=i.arrayEquals=i.pickFields=i.exceptFields=i.debounce=i.throttled=i.getArtworkFromURL=i.btoa=i.atob=i.isNodeEnvironment=i.detectNodeEnvironment=i.isAdamId=i.isLibraryType=i.generateUUID=i.isObject=void 0;const r=u(o);function l(){return Math.random().toString(16).substring(2)}function s(){var n,t;return void 0!==(null===(t=null===(n=null===globalThis||void 0===globalThis?void 0:globalThis.process)||void 0===n?void 0:n.versions)||void 0===t?void 0:t.node)||void 0!==(null===globalThis||void 0===globalThis?void 0:globalThis.FastBoot)}i.isObject=function(n){return!!n&&"object"==typeof n&&!Array.isArray(n)},i.generateUUID=function(){let n=l()+l();for(;n.length<16;)n+=l();return n.slice(0,16)},i.isLibraryType=(0,e.memoize)((n=>/^[a|i|l|p]{1}\.[a-zA-Z0-9]+$/.test(n))),i.isAdamId=(0,e.memoize)((n=>/^(a\.)?[a-zA-Z0-9]+$/.test(n))),i.detectNodeEnvironment=s,i.isNodeEnvironment=function(){return s()},i.atob=(0,e.memoize)(s()?n=>r.default.from(n,"base64").toString("binary"):n=>window.atob(n)),i.btoa=(0,e.memoize)(s()?n=>r.default.from(n).toString("base64"):n=>window.btoa(n)),i.getArtworkFromURL=function(n){const t=n.split("/").pop(),[o,e]=!!t&&t.match(/\d+/g)||["100","100"];return{width:parseInt(o,10),height:parseInt(e,10),url:n.replace(`${o}x${e}`,"{w}x{h}")}},i.throttled=(n,t)=>{let o=0;return function(...e){const i=Date.now();if(!(i-o<n))return o=i,t.apply(this,e)}},i.debounce=(n,t=250,o={isImmediate:!1})=>{let e;return function(...i){const u=this,r=o.isImmediate&&void 0===e;void 0!==e&&clearTimeout(e),e=setTimeout((function(){e=void 0,o.isImmediate||n.apply(u,i)}),t),r&&n.apply(u,i)}},i.exceptFields=(n,...t)=>{const o={};return Object.keys(n).forEach((e=>{t.includes(e)||(o[e]=n[e])})),o},i.pickFields=(n,...t)=>{const o={};return t.forEach((t=>{t in n&&(o[t]=n[t])})),o},i.arrayEquals=(n,t)=>!!n&&!!t&&[].every.call(n,((n,o)=>n===t[o])),i.parseNumber=n=>{const t=Number(n);if(Number.isFinite(t))return t}}));export{i as u}